import{_ as C,u as B,r as b,o as i,b as d,d as e,w as L,e as r,v as u,t as c,f as m,k as h,l as N,F as M,p as R,g as D}from"./index-CDhzKdLF.js";import{_ as q}from"./library_2-CkLa0Lv7.js";import{g as E,c as G}from"./index-a694d6c6-DkYcy7Jf.js";import"./index.esm2017-CJ2sl82q.js";import{a as $,c as T,d as j,s as z,h as O}from"./init-B6bwGzn1.js";const n=v=>(R("data-v-f684f710"),v=v(),D(),v),W=n(()=>e("div",{class:"header-row"},null,-1)),Z={class:"container mt-5"},H={class:"row"},J={class:"col-12"},K={class:"row mt-3 mb-3"},Q=n(()=>e("div",{class:"col-md-6 col-12"},[e("div",{class:"d-flex justify-content-center align-items-center"},[e("img",{src:q,alt:"Library 2",class:"img-fluid"})])],-1)),X={class:"col-md-6 col-12 px-4 py-5"},Y=n(()=>e("h1",{class:"text-center"},"Sign Up",-1)),ss=n(()=>e("p",{class:"text-center"},"Let's register you with a Gmail account.",-1)),es={class:"row mb-3"},ls={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},os=n(()=>e("label",{for:"gmail",class:"form-label"},"Gmail",-1)),ts={key:0,class:"text-danger"},as={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},ns=n(()=>e("label",{for:"role",class:"form-label"},"Role",-1)),rs=n(()=>e("option",{value:""},"Select a role",-1)),is=n(()=>e("option",{value:"administrator"},"Administrator",-1)),ds=n(()=>e("option",{value:"user"},"User",-1)),us=[rs,is,ds],cs={class:"row mt-3 mb-3"},ms={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},vs=n(()=>e("label",{for:"firstname",class:"form-label"},"First Name",-1)),fs={key:0,class:"text-danger"},ps={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},_s=n(()=>e("label",{for:"lastname",class:"form-label"},"Last Name",-1)),gs={key:0,class:"text-danger"},ws={class:"row mt-3 mb-3"},xs={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},bs=n(()=>e("label",{for:"password",class:"form-label"},"Password",-1)),hs={key:0,class:"text-danger"},ys={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},Ps=n(()=>e("label",{for:"confirm-password",class:"form-label"},"Confirm Password",-1)),ks={key:0,class:"text-danger"},As={class:"row mt-3 mb-3"},Us={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},Is={class:"form-check"},Vs=n(()=>e("label",{class:"form-check-label",for:"isAustralian"},"Australian Resident?",-1)),Fs={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},Ss=n(()=>e("label",{for:"gender",class:"form-label"},"Gender",-1)),Cs=n(()=>e("option",{value:"male"},"Male",-1)),Bs=n(()=>e("option",{value:"female"},"Female",-1)),Ls=n(()=>e("option",{value:"other"},"Other",-1)),Ns=[Cs,Bs,Ls],Ms={class:"row mt-3 mb-3"},Rs=n(()=>e("label",{for:"motivation",class:"form-label"},"Motivation",-1)),Ds={key:0,class:"text-danger"},qs={class:"row mt-3 mb-3"},Es=n(()=>e("label",{for:"address",class:"form-label"},"Address",-1)),Gs=n(()=>e("button",{type:"submit",class:"btn btn-primary me-2"},"Submit",-1)),$s={__name:"FirebaseRegistrationPage",setup(v){const y=B(),P=E(),o=b({firstname:"",lastname:"",gmail:"",password:"",isAustralian:!1,motivation:"",gender:"",address:"",role:""}),k=()=>{if(f(!0),p(!0),_(!0),g(!0),l.value.gmail===null&&l.value.firstname===null&&l.value.lastname===null&&l.value.password===null&&l.value.confirmPassword===null)U();else{let a=`Please correct the following errors:
`;for(const s in l.value)l.value[s]&&(a+=`${s}: ${l.value[s]}
`);alert(a)}},w=()=>{o.value={firstname:"",lastname:"",gmail:"",password:"",confirmPassword:"",isAustralian:!1,motivation:"",gender:"",address:"",role:""},l.value={firstname:null,lastname:null,gmail:null,password:null,confirmPassword:null,resident:null,gender:null,motivation:null,role:null,address:null}},l=b({firstname:null,lastname:null,gmail:null,password:null,confirmPassword:null,resident:null,gender:null,motivation:null,role:null,address:null}),f=a=>{o.value.gmail.includes("@")?l.value.gmail=null:l.value.gmail=a?'Email must include "@" symbol':null},p=a=>{const s=o.value.firstname.trim();s?/</.test(s)||/>/.test(s)?l.value.firstname="Invalid characters in first name.":l.value.firstname=null:l.value.firstname=a?"First name is required.":null},_=a=>{const s=o.value.lastname.trim();s?/</.test(s)||/>/.test(s)?l.value.lastname="Invalid characters in last name.":l.value.lastname=null:l.value.lastname=a?"Last name is required.":null},g=a=>{const s=o.value.password,t=8,I=/[A-Z]/.test(s),V=/[a-z]/.test(s),F=/\d/.test(s),S=/[!@#$%^&*(),.?":{}|<>]/.test(s);s.length<t?a&&(l.value.password=`Password must be at least ${t} characters long.`):I?V?F?S?l.value.password=null:a&&(l.value.password="Password must contain at least one special character."):a&&(l.value.password="Password must contain at least one number."):a&&(l.value.password="Password must contain at least one lowercase letter."):a&&(l.value.password="Password must contain at least one uppercase letter.")},x=a=>{o.value.password!==o.value.confirmPassword?a&&(l.value.confirmPassword="Password does not match."):l.value.confirmPassword=null},A=()=>{/\bcharity\b/i.test(o.value.reason)?l.value.reason="Its such a good thing to look for each other.":l.value.reason=null},U=async()=>{try{const s=(await G(P,o.value.gmail,o.value.password)).user,t=$(T(j,"users"),s.uid);await z(t,{createdAt:O(),firstname:o.value.firstname,lastname:o.value.lastname,address:o.value.address,isAustralian:o.value.isAustralian,gender:o.value.gender,motivation:o.value.motivation,role:o.value.role}),alert("Thank you for registering. Now you will be redirected to login page."),w(),y.push({name:"LoginPage"})}catch(a){alert("Error adding document: "+a.message)}};return(a,s)=>(i(),d(M,null,[W,e("div",Z,[e("div",H,[e("div",J,[e("div",K,[Q,e("div",X,[Y,ss,e("form",{onSubmit:L(k,["prevent"])},[e("div",es,[e("div",ls,[os,r(e("input",{type:"text",class:"form-control",id:"gmail",onBlur:s[0]||(s[0]=()=>f(!0)),onInput:s[1]||(s[1]=()=>f(!1)),"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.gmail=t)},null,544),[[u,o.value.gmail]]),l.value.gmail?(i(),d("div",ts,c(l.value.gmail),1)):m("",!0)]),e("div",as,[ns,r(e("select",{class:"form-select",id:"role","onUpdate:modelValue":s[3]||(s[3]=t=>o.value.role=t),required:""},us,512),[[h,o.value.role]])])]),e("div",cs,[e("div",ms,[vs,r(e("input",{type:"text",class:"form-control",id:"firstname",onBlur:s[4]||(s[4]=()=>p(!0)),onInput:s[5]||(s[5]=()=>p(!1)),"onUpdate:modelValue":s[6]||(s[6]=t=>o.value.firstname=t)},null,544),[[u,o.value.firstname]]),l.value.firstname?(i(),d("div",fs,c(l.value.firstname),1)):m("",!0)]),e("div",ps,[_s,r(e("input",{type:"text",class:"form-control",id:"lastname",onBlur:s[7]||(s[7]=()=>_(!0)),onInput:s[8]||(s[8]=()=>_(!1)),"onUpdate:modelValue":s[9]||(s[9]=t=>o.value.lastname=t)},null,544),[[u,o.value.lastname]]),l.value.lastname?(i(),d("div",gs,c(l.value.lastname),1)):m("",!0)])]),e("div",ws,[e("div",xs,[bs,r(e("input",{type:"password",class:"form-control",id:"password",onBlur:s[10]||(s[10]=()=>g(!0)),onInput:s[11]||(s[11]=()=>g(!1)),"onUpdate:modelValue":s[12]||(s[12]=t=>o.value.password=t)},null,544),[[u,o.value.password]]),l.value.password?(i(),d("div",hs,c(l.value.password),1)):m("",!0)]),e("div",ys,[Ps,r(e("input",{type:"password",class:"form-control",id:"confirm-password",onBlur:s[13]||(s[13]=()=>x(!0)),onInput:s[14]||(s[14]=()=>x(!1)),"onUpdate:modelValue":s[15]||(s[15]=t=>o.value.confirmPassword=t)},null,544),[[u,o.value.confirmPassword]]),l.value.confirmPassword?(i(),d("div",ks,c(l.value.confirmPassword),1)):m("",!0)])]),e("div",As,[e("div",Us,[e("div",Is,[r(e("input",{type:"checkbox",class:"form-check-input",id:"isAustralian","onUpdate:modelValue":s[16]||(s[16]=t=>o.value.isAustralian=t)},null,512),[[N,o.value.isAustralian]]),Vs])]),e("div",Fs,[Ss,r(e("select",{class:"form-select",id:"gender","onUpdate:modelValue":s[17]||(s[17]=t=>o.value.gender=t),required:""},Ns,512),[[h,o.value.gender]])])]),e("div",Ms,[Rs,r(e("textarea",{class:"form-control",id:"motivation",rows:"3",onInput:s[18]||(s[18]=()=>A()),"onUpdate:modelValue":s[19]||(s[19]=t=>o.value.motivation=t)},null,544),[[u,o.value.motivation]]),l.value.motivation?(i(),d("div",Ds,c(l.value.motivation),1)):m("",!0)]),e("div",qs,[Es,r(e("input",{type:"text",class:"form-control",id:"address","onUpdate:modelValue":s[20]||(s[20]=t=>o.value.address=t)},null,512),[[u,o.value.address]])]),e("div",{class:"text-center"},[Gs,e("button",{type:"button",class:"btn btn-secondary",onClick:w},"Clear")])],32)])])])])])],64))}},Zs=C($s,[["__scopeId","data-v-f684f710"]]);export{Zs as default};
