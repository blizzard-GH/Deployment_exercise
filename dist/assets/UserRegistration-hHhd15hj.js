import{_ as R,r as h,u as B,o as i,b as d,d as e,w as C,e as r,v as u,t as c,f as m,k as y,l as L,F as N,p as M,g as D}from"./index-DCK0BBlI.js";import{_ as q}from"./library_2-C6UV2AcX.js";import{e as $,c as E,d as G}from"./init-B6bwGzn1.js";import"./index.esm2017-CJ2sl82q.js";const a=v=>(M("data-v-3e173145"),v=v(),D(),v),T=a(()=>e("div",{class:"header-row"},null,-1)),j={class:"container mt-5"},z={class:"row"},O={class:"col-12"},Z={class:"row mt-3 mb-3"},H=a(()=>e("div",{class:"col-md-6 col-12"},[e("div",{class:"d-flex justify-content-center align-items-center"},[e("img",{src:q,alt:"Library 2",class:"img-fluid"})])],-1)),J={class:"col-md-6 col-12 px-4 py-5"},K=a(()=>e("h1",{class:"text-center"},"Sign Up",-1)),Q=a(()=>e("p",{class:"text-center"},"Let's register you for an account.",-1)),W={class:"row mb-3"},X={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},Y=a(()=>e("label",{for:"username",class:"form-label"},"Username",-1)),ss={key:0,class:"text-danger"},es={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},ls=a(()=>e("label",{for:"role",class:"form-label"},"Role",-1)),os=a(()=>e("option",{value:""},"Select a role",-1)),ts=a(()=>e("option",{value:"administrator"},"Administrator",-1)),as=a(()=>e("option",{value:"user"},"User",-1)),ns=[os,ts,as],rs={class:"row mt-3 mb-3"},is={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},ds=a(()=>e("label",{for:"firstname",class:"form-label"},"First Name",-1)),us={key:0,class:"text-danger"},cs={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},ms=a(()=>e("label",{for:"lastname",class:"form-label"},"Last Name",-1)),vs={key:0,class:"text-danger"},fs={class:"row mt-3 mb-3"},ps={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},_s=a(()=>e("label",{for:"password",class:"form-label"},"Password",-1)),ws={key:0,class:"text-danger"},xs={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},gs=a(()=>e("label",{for:"confirm-password",class:"form-label"},"Confirm Password",-1)),bs={key:0,class:"text-danger"},hs={class:"row mt-3 mb-3"},ys={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},Ps={class:"form-check"},ks=a(()=>e("label",{class:"form-check-label",for:"isAustralian"},"Australian Resident?",-1)),Us={class:"col-6 col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6"},Is=a(()=>e("label",{for:"gender",class:"form-label"},"Gender",-1)),Vs=a(()=>e("option",{value:"male"},"Male",-1)),As=a(()=>e("option",{value:"female"},"Female",-1)),Fs=a(()=>e("option",{value:"other"},"Other",-1)),Ss=[Vs,As,Fs],Rs={class:"row mt-3 mb-3"},Bs=a(()=>e("label",{for:"motivation",class:"form-label"},"Motivation",-1)),Cs={key:0,class:"text-danger"},Ls={class:"row mt-3 mb-3"},Ns=a(()=>e("label",{for:"address",class:"form-label"},"Address",-1)),Ms=a(()=>e("button",{type:"submit",class:"btn btn-primary me-2"},"Submit",-1)),Ds={__name:"UserRegistration",setup(v){const o=h({firstname:"",lastname:"",username:"",password:"",isAustralian:!1,motivation:"",gender:"",address:"",role:""}),P=()=>{if(f(!0),p(!0),_(!0),w(!0),l.value.username===null&&l.value.firstname===null&&l.value.lastname===null&&l.value.password===null&&l.value.confirmPassword===null)U();else{let n=`Please correct the following errors:
`;for(const s in l.value)l.value[s]&&(n+=`${s}: ${l.value[s]}
`);alert(n)}},x=()=>{o.value={firstname:"",lastname:"",username:"",password:"",confirmPassword:"",isAustralian:!1,motivation:"",gender:"",address:"",role:""},l.value={firstname:null,lastname:null,username:null,password:null,confirmPassword:null,resident:null,gender:null,motivation:null,role:null,address:null}},l=h({firstname:null,lastname:null,username:null,password:null,confirmPassword:null,resident:null,gender:null,motivation:null,role:null,address:null}),f=n=>{o.value.username.length<3?l.value.username=n?"Username must be at least 3 characters":null:l.value.username=null},p=n=>{const s=o.value.firstname.trim();s?/</.test(s)||/>/.test(s)?l.value.firstname="Invalid characters in first name.":l.value.firstname=null:l.value.firstname=n?"First name is required.":null},_=n=>{const s=o.value.lastname.trim();s?/</.test(s)||/>/.test(s)?l.value.lastname="Invalid characters in last name.":l.value.lastname=null:l.value.lastname=n?"Last name is required.":null},w=n=>{const s=o.value.password,t=8,V=/[A-Z]/.test(s),A=/[a-z]/.test(s),F=/\d/.test(s),S=/[!@#$%^&*(),.?":{}|<>]/.test(s);s.length<t?n&&(l.value.password=`Password must be at least ${t} characters long.`):V?A?F?S?l.value.password=null:n&&(l.value.password="Password must contain at least one special character."):n&&(l.value.password="Password must contain at least one number."):n&&(l.value.password="Password must contain at least one lowercase letter."):n&&(l.value.password="Password must contain at least one uppercase letter.")},g=n=>{o.value.password!==o.value.confirmPassword?n&&(l.value.confirmPassword="Password does not match."):l.value.confirmPassword=null},k=()=>{/\bcharity\b/i.test(o.value.reason)?l.value.reason="Its such a good thing to look for each other.":l.value.reason=null},b=B(),U=async()=>{try{await $(E(G,"libraryusers"),{...o.value}),alert("Thank you for registering. Now you will be redirected to login page."),x(),b.push({name:"LoginPage"})}catch(n){alert("Error adding document: "+n.message)}},I=()=>{b.push({name:"FireRegister"})};return(n,s)=>(i(),d(N,null,[T,e("div",j,[e("div",z,[e("div",O,[e("div",Z,[H,e("div",J,[K,Q,e("form",{onSubmit:C(P,["prevent"])},[e("div",W,[e("div",X,[Y,r(e("input",{type:"text",class:"form-control",id:"username",onBlur:s[0]||(s[0]=()=>f(!0)),onInput:s[1]||(s[1]=()=>f(!1)),"onUpdate:modelValue":s[2]||(s[2]=t=>o.value.username=t)},null,544),[[u,o.value.username]]),l.value.username?(i(),d("div",ss,c(l.value.username),1)):m("",!0)]),e("div",es,[ls,r(e("select",{class:"form-select",id:"role","onUpdate:modelValue":s[3]||(s[3]=t=>o.value.role=t),required:""},ns,512),[[y,o.value.role]])])]),e("div",rs,[e("div",is,[ds,r(e("input",{type:"text",class:"form-control",id:"firstname",onBlur:s[4]||(s[4]=()=>p(!0)),onInput:s[5]||(s[5]=()=>p(!1)),"onUpdate:modelValue":s[6]||(s[6]=t=>o.value.firstname=t)},null,544),[[u,o.value.firstname]]),l.value.firstname?(i(),d("div",us,c(l.value.firstname),1)):m("",!0)]),e("div",cs,[ms,r(e("input",{type:"text",class:"form-control",id:"lastname",onBlur:s[7]||(s[7]=()=>_(!0)),onInput:s[8]||(s[8]=()=>_(!1)),"onUpdate:modelValue":s[9]||(s[9]=t=>o.value.lastname=t)},null,544),[[u,o.value.lastname]]),l.value.lastname?(i(),d("div",vs,c(l.value.lastname),1)):m("",!0)])]),e("div",fs,[e("div",ps,[_s,r(e("input",{type:"password",class:"form-control",id:"password",onBlur:s[10]||(s[10]=()=>w(!0)),onInput:s[11]||(s[11]=()=>w(!1)),"onUpdate:modelValue":s[12]||(s[12]=t=>o.value.password=t)},null,544),[[u,o.value.password]]),l.value.password?(i(),d("div",ws,c(l.value.password),1)):m("",!0)]),e("div",xs,[gs,r(e("input",{type:"password",class:"form-control",id:"confirm-password",onBlur:s[13]||(s[13]=()=>g(!0)),onInput:s[14]||(s[14]=()=>g(!1)),"onUpdate:modelValue":s[15]||(s[15]=t=>o.value.confirmPassword=t)},null,544),[[u,o.value.confirmPassword]]),l.value.confirmPassword?(i(),d("div",bs,c(l.value.confirmPassword),1)):m("",!0)])]),e("div",hs,[e("div",ys,[e("div",Ps,[r(e("input",{type:"checkbox",class:"form-check-input",id:"isAustralian","onUpdate:modelValue":s[16]||(s[16]=t=>o.value.isAustralian=t)},null,512),[[L,o.value.isAustralian]]),ks])]),e("div",Us,[Is,r(e("select",{class:"form-select",id:"gender","onUpdate:modelValue":s[17]||(s[17]=t=>o.value.gender=t),required:""},Ss,512),[[y,o.value.gender]])])]),e("div",Rs,[Bs,r(e("textarea",{class:"form-control",id:"motivation",rows:"3",onInput:s[18]||(s[18]=()=>k()),"onUpdate:modelValue":s[19]||(s[19]=t=>o.value.motivation=t)},null,544),[[u,o.value.motivation]]),l.value.motivation?(i(),d("div",Cs,c(l.value.motivation),1)):m("",!0)]),e("div",Ls,[Ns,r(e("input",{type:"text",class:"form-control",id:"address","onUpdate:modelValue":s[20]||(s[20]=t=>o.value.address=t)},null,512),[[u,o.value.address]])]),e("div",{class:"text-center"},[Ms,e("button",{type:"button",class:"btn btn-secondary",onClick:x},"Clear"),e("button",{type:"button",class:"btn btn-secondary",onClick:I}," Register with Gmail ")])],32)])])])])])],64))}},Ts=R(Ds,[["__scopeId","data-v-3e173145"]]);export{Ts as default};
